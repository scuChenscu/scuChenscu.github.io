<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="《研究生毕业设计》, 杂记">
    <meta name="description" content="让那暴风，柔和地吹。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>《研究生毕业设计》 | 杂记</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="杂记" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">杂记</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">杂记</div>
        <div class="logo-desc">
            
            让那暴风，柔和地吹。
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('不好意思，不给看，谢谢！')).toString(CryptoJS.enc.Hex)) {
                alert('Thank you!');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">《研究生毕业设计》</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-11-01
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    23 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>11.1</p>
<p>今天围绕：图计算引擎、tinkerpop、graph找了几篇论文，共 11 篇；</p>
<p>打算先看相关度比较高的两篇：《<strong>Research on Improved General Property Graphs Query Method Based on</strong> <strong>TinkerPop</strong> 》和《The Gremlin Graph Traversal Machine and Language》</p>
<h5 id="Research-on-Improved-General-Property-Graphs-Query-Method-Based-on-TinkerPop"><a href="#Research-on-Improved-General-Property-Graphs-Query-Method-Based-on-TinkerPop" class="headerlink" title="Research on Improved General Property Graphs Query Method Based on TinkerPop"></a>Research on Improved General Property Graphs Query Method Based on TinkerPop</h5><p>为什么要首先阅读这篇文章？</p>
<p>因为这篇文章是使用了Tinkerpop作为图计算/查询，跟我毕设内容比较一致；根据摘要，它研究的是使用 SPARQL 基于Tinkerpop来查询属性图；我的研究方向也是基于Tinkerpop来查询属性图；而它的属性图是 RDF 表示形式，是目前比较标准的知识图谱表示模型；</p>
<p>RDF 和属性图之间的关系？</p>
<p>RDF 应该是基于属性图定义的一种标准，然后 SPARQL 就专门针对 RDF 来实现的一种图查询语言；这篇论文的话就是用 sparkQL来查询属性图（不是 RDF），但是 Tinkerpop是支持gremlin的，所以就涉及到对tinkerpop的改造，改造这部分就是我比较关心的内容了。</p>
<p>希望从这篇文章里面收获到什么？</p>
<ol>
<li>论文中是如何使用Tinkerpop的，做了哪些优化，针对哪些应用场景；（很遗憾，论文并没有提到关于tinkerpop的工作，而是重点放在了对sparql的重写）</li>
<li>它是怎么把 SPARQL 转换为Tinkerpop的查询语言；这块应该是属于语法分析的过程；（利用jena；</li>
<li>它的数据库底层存储实现是怎么样的；（也没有说到，后面看他的实验，是直接用的 tinkerpop，离谱，哈哈哈哈，但是他的核心也不是在这块，可以理解</li>
</ol>
<p>摘要</p>
<p>在tinkerpop的基础上，提出一种改进的属性图查询方法，支持使用 SPARQL 查询属性图；该方法对tinkerpop原有模块进行了改进，实现了 ASK 查询（ASK 查询就是一种 true/false查询，常规查询会返回结果集）和路径查询；数据集用的是 real-world air route graph data.</p>
<p>引言</p>
<p>​        知识图谱目前主流模型是 RDF （SPARQL）和属性图（Gremlin、Cypher、PGQL、G-GROE），对应着各自的存储系统，没有统一的查询语言；</p>
<p>​        近年来，LDBC 提出 GQL，推动属性图数据模型和图查询语言的标准化，但是in progress，还缺乏there is still a lack  of  means  that  can  integrate  different  implementation  schemes  of  property  graphs. 不是很懂，大概就是缺乏一种能够集成不同实现模式的属性图的方案；TInkerpop，apache顶级项目，通用的图框架，也在focus建立属性图的工业标准，消除不同属性图实现带来的问题；Gremlin，一种查询语言，底层存储支持主流图数据库：Neo4j, JanusGraph, HugeGraph；</p>
<p>​        针对以上，本文提出一种属性图模型的通用查询方法：使用sparql查询属性图；通过sparql转 gremlin，使用tinkerpop，后面的内容基本上跟摘要讲得差不多了。</p>
<p>相关研究</p>
<p>​        Sparql，声明式查询语言，类似sql；gremlin，基于tinerkpop提出，一种图遍历（traversal）语言，执行方式是沿着图的有向边游走，类似广度优先遍历；在两种语言之间切换需要考虑执行中的范式转换；</p>
<p>​        以下一大段都是讲一些前人实现的语言转换相关的工作，主要是sparql to sql：</p>
<p>​        类似的语言转换研究包括SPARQL查询和关系数据库查询语言之间的转换。例如，Ni设计并实现了一个名为SPONSON的SPARQL执行引擎。该执行引擎重用NoSQL数据库或传统关系数据库作为底层存储，并且可以根据软件环境或存储的RDF数据的结构复杂性来切换存储层（没研究过）；看起来也是一种 SPI +  适配器模式的实现；Rodriguez-Muro提出了一种形式化的SPARQL to SQL的转换方法，该方法将SQL优化领域的逻辑编程和优化技术相结合，生成高效的SQL语句，并通过实验表明，它们的实现比当时流行的SPARQL系统性能更好；（转成sql来执行，效果还比直接用SPARQL好，那有点东西）；类似的研究还包括Soussi的SPARQL to SQL的转换框架，该框架可以在查询转换过程中维护语义（维护语言的价值在哪？可读性吗，可解释性？）；Calvanese提出了一种基于本体的数据访问系统，该系统允许在关系数据库上执行SPARQL查询；Priyatna扩展了一个著名的SPARQL到SQL的转换算法，并通过对实际用例的查询，证明了它们的实现可以使SPARQL转换后的SQL的查询速度与原始SQL一样快；Rachapalli提出了RETRO，实现了从SQL到SPARQL的语义转换；</p>
<p>​        以下一段主要是将相关的一些查询语言在RDF图与属性图上的应用，表现如何，存在什么问题：</p>
<p>​        近年来，一些学者也开始关注RDF图与属性图之间的关系。在图查询语言的代数研究和多关系图的路径代数研究的基础上，Thakkar利用Gremlin实现了集成图代数的图模式匹配，并提出了SPARQL到Gremlin的查询转换工具Gremlinator以及通过Gremlinator在属性图数据库中执行SPARQL查询的方法。之后，Thakkar提出了工具sparql-gremlin，通过将sparql查询转换为gremlin来实现属性图数据库上的sparql查询；然而，学者们的研究仅限于Jena解析SPARQL，而Jena（Apache Jena是专门用于语义网本体操作的开源Java框架，其提供RDF和SPARQL API，来查询、修改本体和进行本体推理）无法解析的SPARQL语句已经成为一个瓶颈。一些学者研究了从SPARQL到Cypher的转换器；Cypher属性图数据库是Neo4j采用的一种声明性语言。它的语法结构与SPARQL相似。然而，与Gremlin相比，Cypher仅限于服务于Neo4j数据库，Gremlin具有更好的可扩展性。</p>
<p>方法</p>
<p>在本节中，我们将介绍SPARQL的语法结构、TinkerPop实现Gremlin的方法、现有的SPARQL- Gremlin模块以及该模块的缺陷，以及本文提出的查询重写，最后介绍了对查询重写模块进行改进后的SPARQL查询属性图的方法。</p>
<p>SPARQL的结构</p>
<p>给了个例子，反正就很像sql；SELECT clause：结果集，WHERE  clause：查询条件；ORDER  clause：结果修改；核心语法就三个部分：结果、条件、结果形式；就是根据条件查询到结果集之后，按照特定形式进行处理，最后返回。除了上述查询类型之外，SPARQL还支持类似于关系数据库的关系操作。例如，SELECT查询是一个投影操作。它还包括使用WHERE子句中的OPTIONAL关键字来完成前后图形模式的匹配结果集的左外联接操作，使用路径查询函数或and关键字来完成联接操作，以及使用图形模式中的FILTER来完成选择操作。SPARQL的完整语法和语义可以在W3C推荐中查看。反正就是很像sql就行了，不是我研究的重点；</p>
<p>在TinkerPop执行Gremlin的方法（重点，因为我做的就是这部分工作）</p>
<p>Tinerkpop:它独立于特定的特性图数据库（就是说跟底层存储无关的一个框架，支持用户自定义存储层实现，一种 SPI 的实现方式），专注于建立特性图的行业标准。Gremlin图遍历语言是TinkerPop提出的一种属性图查询语言。Gremlin属于函数查询语言，其执行机制类似于图的广度优先遍历。Gremlin遍历由一系列步骤组成，这些步骤对应于Gremlin traverser的每一个单步操作，并确定该traverser在图中的下一步。Gremlin的步骤大致分为三类：</p>
<ul>
<li>map，映射，就是根据条件来转换，比如 a -&gt; a的邻居；a -&gt; a的出边</li>
<li>Filter， 过滤， 顾名思义，a的边集 -&gt; a的出边</li>
<li>side  effect ，这个不影响遍历，通常是在遍历的过程中做一些计算和统计的操作；</li>
</ul>
<p>基于这三种类型的步骤，Gremlin根据它们的具体功能将步骤划分为三种类型，很抽象的一句翻译，我的理解就是根据三种步骤提供具体的实现；</p>
<p>Gremlin遍历器可以用六个元组的形式表示，如方程所示：</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311011712985.png" alt="image-20231101171202164" style="zoom:50%;"></p>
<p>后面这段比较抽象，也是Gremlin的核心，吃完饭再看：</p>
<p>吃了金汤肥牛！</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311011905797.png" alt="image-20231101190514748"></p>
<p>理解不了一点儿。不理解，先搁置；</p>
<p>U表示traverser在图中的位置？就是点或者边</p>
<p>还有个遍历步骤中的位置，对应要执行的操作？就是对点或者边要执行的操作？</p>
<p>历史路径？</p>
<p>N+，一个或者一组traverser，感觉可以理解，因为是 BFS 遍历；</p>
<p>S，局部变量表，不理解了，拿来干嘛的？</p>
<p>C，循环体；</p>
<p>Gremlin支持过程式/声明式查询；过程查询是通过遍历定义图来实现的。声明式查询类似于SPARQL查询；根据我的经验，应该是过程式用的比较多；过程查询是通过遍历定义图来实现的。声明式查询类似于SPARQL查询。Gremlin的match（）步骤用于匹配类似于SPARQL的图形模式。match（）的参数可以是一组遍历步骤。单个遍历步骤对应于SPARQL的基本图模式。这些遍历步骤可以组合为通过and、or、not的复杂遍历，它们对应于SPARQL的复杂图模式。当Gremlin遍历器进入match（）步骤时，它将依次执行其中包含的图形模式，直到执行完成并返回最后一个遍历状态。执行match（）步骤后，执行过程中生成的变量可以通过select（）步骤获得。使用过程性查询和声明性查询来完成与SPARQL查询sh具有相同功能的查询语句</p>
<p>Match（）声明式遍历，直到return返回（return 的形式有很多种，比如values），然后select（）从结果集选取；</p>
<p>此外，gremlin还是不依赖系统的查询语言，可以转换为字节码，与编程语言无关；并且可以通过TinkerPop框架转换为支持功能编程的其他编程语言。目前有基于Java、Scala、Python等函数式编程语言的执行引擎；</p>
<p>好了，到这里，这篇论文的内容我关心的内容基本看完了，后面涉及的内容主要是关于语言转换的，不确定是不是我需要的，先粗看一下；</p>
<p>转换过程就是建立映射；中间借助jena来将sparql来生成抽象语法树和基本图模式，对应到gremlin的单步遍历；然后用tinkerpop来实现查询；但是jena不支持路径查询，论文就自己搞了一个；</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311011939215.png" alt="image-20231101193913172"></p>
<p>table 3表示，s-p-o中，不同的p，对应不同gremlin单步，就是谓词不同，gremlin 单步不同；</p>
<p>Table 4表示sparql某些RM语句对应gremlin的单步；</p>
<p>Sprawl -&gt; jena -&gt; gremlin -&gt; tinkerpop -&gt; result</p>
<p>查询重写模块：（1）实现 ASK 查询；就是加一个非空判断，笑死（2）path查询；</p>
<p>ASK 查询实现：抽取关键字 -&gt; 确定查询类型 -&gt; 相应查询策略</p>
<p>path查询：符号替换冗余变量，简化查询语句的长度？how?the  SPARQL  query  is  rewritten  to  the  format  supported  by  Jena  by  the  way  of  query  statement  verification  rewriting,  thus realizing the path query function.通过查询语句验证重写的方式，将SPARQL查询重写为Jena支持的格式，从而实现路径查询功能。很抽象</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311012018493.png" alt="image-20231101201803449"></p>
<p>我好像大概看懂了</p>
<p>第一个就是多个不同的p；第二个是相同的p重复m次，第 3 个是逆转路径，大概就是，A 的爸爸是 B，B 的儿子是 A 的意思；反向查询；最后一个就是不包含了。</p>
<p>好，今天的论文就看到这里。</p>
<p>收获：对gremlin语法的理解更加深入了吧，但是论文没有太多涉及tinkerpop的部分，感觉这个还是得去看官网了；但是对于整个图查询的过程理解要比以前清晰一些了。结合之前学的设计模式和今天论文提到的一些词法解析，可以去思考一下怎么定义查询接口。主要还是得把查询语句进行一步步地拆分，实现解析器；</p>
<p>11.2</p>
<p>今天打算读一读《The Gremlin Graph Traversal Machine and Language》，还不确定，先看一下摘要</p>
<p>简单看了一下摘要，大概就是从数学的角度来解释语言，通过阅读应该会对语言的理解更加深刻。阅读前，先提出几个问题：</p>
<ol>
<li>gremlin的实现原理是怎么样的？为什么要这样实现，好处是什么，如何应用？核心还是理解遍历的原理，如果能力支持，再去思考一下为什么要这样做；核心就 T 在 G 和遍历上移动，直到结果；</li>
<li>gremlin在tinkerpop的运用，如果想去优化，可以从哪方面入手？就是tinkerpop对 Gremlin 的支持还存在哪些不足；没有提到，但是讲了很多关于遍历、策略；以及一些策略可以优化到的steps</li>
<li>本论文对 Gremlin 的解释能否回答上一篇论文提到的gremlin方程；对这个方程的理解更清楚了，但还是不够。</li>
</ol>
<h4 id="The-Gremlin-Graph-Traversal-Machine-and-Language"><a href="#The-Gremlin-Graph-Traversal-Machine-and-Language" class="headerlink" title="The Gremlin Graph Traversal Machine and Language"></a>The Gremlin Graph Traversal Machine and Language</h4><p>摘要</p>
<p>gremlin是一个图遍历机（graph traversal machine）和语言；主要组成：graph G； traversal machine <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 778 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3A8" d="M340 622Q338 623 335 625T331 629T325 631T314 634T298 635T274 636T239 637H212V683H224Q248 680 389 680T554 683H566V637H539Q479 637 464 635T439 622L438 407Q438 192 439 192Q443 193 449 195T474 207T507 232T536 276T557 344Q560 365 562 417T573 493Q587 536 620 544Q627 546 671 546H715L722 540V515Q714 509 708 509Q680 505 671 476T658 392T644 307Q599 177 451 153L438 151V106L439 61Q446 54 451 52T476 48T539 46H566V0H554Q530 3 389 3T224 0H212V46H239Q259 46 273 46T298 47T314 48T325 51T331 54T335 57T340 61V151Q126 178 117 406Q115 503 69 509Q55 509 55 526Q55 541 59 543T86 546H107H120Q150 546 161 543T184 528Q198 514 204 493Q212 472 213 420T226 316T272 230Q287 216 303 207T330 194L339 192Q340 192 340 407V622Z"></path></g></g></g></svg></mjx-container>；一组traversers T；T 根据<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 778 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3A8" d="M340 622Q338 623 335 625T331 629T325 631T314 634T298 635T274 636T239 637H212V683H224Q248 680 389 680T554 683H566V637H539Q479 637 464 635T439 622L438 407Q438 192 439 192Q443 193 449 195T474 207T507 232T536 276T557 344Q560 365 562 417T573 493Q587 536 620 544Q627 546 671 546H715L722 540V515Q714 509 708 509Q680 505 671 476T658 392T644 307Q599 177 451 153L438 151V106L439 61Q446 54 451 52T476 48T539 46H566V0H554Q530 3 389 3T224 0H212V46H239Q259 46 273 46T298 47T314 48T325 51T331 54T335 57T340 61V151Q126 178 117 406Q115 503 69 509Q55 509 55 526Q55 541 59 543T86 546H107H120Q150 546 161 543T184 528Q198 514 204 493Q212 472 213 420T226 316T272 230Q287 216 303 207T330 194L339 192Q340 192 340 407V622Z"></path></g></g></g></svg></mjx-container>中的指令在G上移动，计算的结果是所有 T 停止遍历的最终位置；</p>
<p>Gremlin 支持命令式和声明式查询；可扩展编译器/优化器（这是我论文工作的一部分）；</p>
<p>介绍</p>
<p>G 是一个由点和边组成的结构；一个图数据库查询语言支持图遍历或者模式匹配：either  agraph  traversalor  agraphpattern matchperspective；图遍历，T 根据用户提供的指令在图上移动，遍历的结果是终止的 T 的位置；模式匹配：用户创建一个包含变量的子图，所有的图元素绑定到变量作为结果集返回；gremlin支持以上两种；还有：嵌入编程语言，比如 Java 中；用户扩展；根据扩展集编译期重写规则；多机计算集群执行；dfs\bfs\混合顺序执行评估；epresented withinthe graph itself via the theoretical existence of a Universal GremlinMachine，没看懂；</p>
<p>我来照自己的理解：</p>
<p>图遍历：就是根据指令，从某个地方出发，所有的 T走到最终地方，返回；就跟 BFS 差不多；</p>
<p>模式匹配：根据子图的匹配条件，过滤结果集返回；就跟 SQL 语句差不多；</p>
<p>Graph Traversal Machine</p>
<p>包含 3 部分：a G、a traversal、 a set T；计算完成条件：T 没了，traversal执行完了或者到终止条件了（结果是并集）；gremlin在多关系、属性、有向图上执行；</p>
<p>图：</p>
<p>G = (V, E, <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="1.319ex" height="1.597ex" role="img" focusable="false" viewBox="0 -694 583 706"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D706" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"></path></g></g></g></svg></mjx-container>)；关于这个<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="1.319ex" height="1.597ex" role="img" focusable="false" viewBox="0 -694 583 706"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D706" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"></path></g></g></g></svg></mjx-container>的理解：像是一个属性集合；暂且这么理解吧，那关系呢？</p>
<p>traversal</p>
<p>steps的函数树；steps有线性 和网状两种排列方式；step是一种映射，从  A traversers -&gt; B traversers；后面跟了一段话不太理解：唯一一组traversers到唯一一组traversers；</p>
<p>a set of traverserslocated at objects of typeAto a set of traversers located at objectsof typeB：理解到这里为什么是用object：因为可能是边到点，点到点，边到边，点到边；</p>
<p>gremlin定义了差不多 30 种steps；可以理解为traversal的一组指令集；常用的有 10 种；step属于以下 5 种类型：</p>
<ul>
<li>map：在不更改traversers size的情况下，从 A 映射到 B，这我就有点不理解了？为什么会不更改呢？</li>
<li>flatMap：输出的traversers size不确定；应该是对元素操作后合并；</li>
<li>filter：过滤；</li>
<li>sideEffect：就是对traversers执行某些函数操作；通常是针对 G 中的数据结构，可能会出现突变？不太理解，感觉就是修改某些东西的意思；</li>
<li>branch：把一个traverser 映射为任意数量的嵌套traversal开始steps；就是对每个traverser按照分支条件去执行；</li>
</ul>
<p>所有以上steps都可以用flatMap()？？？不太理解这个flatMap()；flat为平外地的意思；</p>
<p>当你需要将 [[a,b,c],[d,e,f],[x,y,z]] 具有两个级别的数据结构转换为 [a,b,c,d,e,f,x,y,z] 这样单层的数据结构时，就选择使用 flatMap 处理。如果是 [a,b,c,d,e,f,x,y,z] 转换为大写 [A,B,C,D,E,F,X,Y,Z] 这样单层转换，就使用 map 即可。</p>
<p>traverser</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311021624582.png" alt="image-20231102162416530"></p>
<p>U：G 中位置；就是在图的哪里</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 778 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3A8" d="M340 622Q338 623 335 625T331 629T325 631T314 634T298 635T274 636T239 637H212V683H224Q248 680 389 680T554 683H566V637H539Q479 637 464 635T439 622L438 407Q438 192 439 192Q443 193 449 195T474 207T507 232T536 276T557 344Q560 365 562 417T573 493Q587 536 620 544Q627 546 671 546H715L722 540V515Q714 509 708 509Q680 505 671 476T658 392T644 307Q599 177 451 153L438 151V106L439 61Q446 54 451 52T476 48T539 46H566V0H554Q530 3 389 3T224 0H212V46H239Q259 46 273 46T298 47T314 48T325 51T331 54T335 57T340 61V151Q126 178 117 406Q115 503 69 509Q55 509 55 526Q55 541 59 543T86 546H107H120Q150 546 161 543T184 528Q198 514 204 493Q212 472 213 420T226 316T272 230Q287 216 303 207T330 194L339 192Q340 192 340 407V622Z"></path></g></g></g></svg></mjx-container>：T 中位置；就是在steps的哪里；</p>
<p>第三个是历史路径，（集合元素），step位置：用来找最短路径，回溯历史位置，访问标记；</p>
<p>第四个是：等价traverser的数量，为什么要用bulk?</p>
<p>第五个是：局部变量；</p>
<p>第 6 个循环体</p>
<p>这段数学符号还是没有太看懂；</p>
<p>Graph Traversal Language</p>
<p>gremlin是一种图遍历语言，需要用户定义Traversal；编程gremlin machine；服啦，一段话没看懂，大概就是什么Gremlin, the language needs tosupportfunction compositionandfunction types，教我们怎么用gremlin；循环路径是否会重复访问？</p>
<p>11.3</p>
<p>又重新看了一下gremlin的官方文档，只能说常看常新，但是感觉看这不太利于写论文，所以打算先搁置了，还是去读一些别人实现的论文，照葫芦画瓢比较好；</p>
<p>今天打算看两篇难度系数比较低的：《基于图查询系统的图计算引擎》、《Graph_Learning_A_Survey》</p>
<p>先看个综述：《Graph_Learning_A_Survey》，看看摘要，再回来确定学习的目标；</p>
<p>好吧，看了一下，是从机器学习、深度学习的角度来研究graph，不太符合，直接下一篇：《基于图查询系统的图计算引擎》</p>
<p>看了一下摘要：他是把图计算和图查询合并到一个系统，然后通过一些索引/拉取模式等手段来提高性能；但是感觉他们是针对分布式系统，而我是针对单机的；</p>
<p>问题：</p>
<ul>
<li>图查询和图计算有什么区别；根据论文中的解释，图查询系统就是直接检索图中的点/边；图计算就是要通过遍历的方式才能找到对应的数据；</li>
<li>索引是怎么建立的； 将hash和稀疏压缩矩阵结合在一起；同时支持查询和计算；</li>
<li>单机和分布式的主要区别在哪些，是否有借鉴的意义；区别就是采用割边和割点的方式，将节点放到不同的机器上，然后论文要pull的方式更新信息；不是我要研究的重点，就不仔细看了。</li>
</ul>
<p>看完了，怎么说的；感觉他的索引建立的工作量很小；</p>
<p>通常的图查询建立索引是：</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311031613046.png" alt="image-20231103161324992"></p>
<p>就是根据 顶点，边类型，边方向 建立 hash 作为key，value是对应的顶点list；这对单个顶点的访问非常高效</p>
<p>图计算的话，使用压缩矩阵</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311031616172.png" alt="image-20231103161656125"></p>
<p>每个顶点序号对应它在顶点索引数组的下标；值表示表示出边；这种结构可以快速找到一个顶点的所有领居顶点；</p>
<p>论文实现：</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311031620118.png" alt="image-20231103162057074"></p>
<p>原本的hash索引还在，但是value 是要根据每个顶点来聚合在一起； </p>
<p>感觉今天的工作不到位，再读一篇：</p>
<p>发现读到一篇亚马孙的文档，搁那吹他们的图数据库有多屌，叫海王星；不重要；换一篇：</p>
<p>《Labeled property graphs: SQL or NoSQL?》，看题目就很好理解，带标签的属性图，该用 SQL 还是 NoSQL；这篇文章是 19 年提出的，主要讨论针对现在的 RDF 和属性图，该用那种查询语言；但是这个更像一个测试报告，就把 SQL、NoSQL测了一遍，没什么大的搜获；</p>
<p>《Synergistic Graph and SQL Analytics Inside IBM Db2》</p>
<p>这篇是跟我课题最相关的论文，他也是基于tinkerpop来实现，并且在某种特定数据集上进行测试；还没有看完，明天的目标就是看完 + 总结这几篇论文；并且他的引用有很多图数据库，找几个经典的来对比一下；还有别忘了填表。</p>
<p>11.6</p>
<p>看论文前，一定要明确目标，不然就是瞎看</p>
<p>Research on SPARQL Semantic Query Technology Based on Knowledge Hybrid Storage，2021 年的文章</p>
<p>看题目的意思就是用 SPARQL 实现在知识混合存储上语义查询；</p>
<ol>
<li>sparql不是本来就是应用在 RDF 上的吗，RDF 不就是语义吗？两者还不一样？</li>
<li>摘要中提到的在 RDF 和属性图之间建立 bridge，将sparql转gremlin，怎么实现的；这不是有相应的插件/工具实现了吗</li>
</ol>
<p>论文涉及大量的 SPARQL 语法，不太好看懂；需要先去看一下 SPARQL 和 RDF</p>
<p>大概就是建立SPARQL跟 Gremlin 之间的映射；（没有看的价值，直接看下面一篇）</p>
<p>Two for One – Querying Property Graph Databases usingSPARQL viaGremlinator</p>
<p>11.7</p>
<p>昨天看了Two for One – Querying Property Graph Databases usingSPARQL via Gremlinator，因为头疼没有继续，发现他引用了一篇A Stitch in Time Saves Nine – SPARQLQuerying of Property Graphs using GremlinTraversals；感觉两篇本质上是一样的，换了一个题目，主要都是讲Gremlinator怎么把 SPARQL  转 Gremlin；</p>
<ol>
<li>为什么要SPARQL转 Gremlin，底层存储是什么，是因为 SPARQL  用在 RDF，然后现在想用在属性图吗，属性图的底层存储通常是什么呢？</li>
<li>Gremlinator实现原理；我的课题需不需要用 SPARQL 来查询，因为 Gremlin 是无法直接使用的；如果不用 SPARQL，那就要设计一种怎么样的接口呢？</li>
</ol>
<p>摘要：</p>
<p>还是讲知识图谱主要用 SPARQL 的 RDF 和 Gremlin 的属性图；</p>
<p>为什么要实现Gremlinator？因为大多数都是用的 SPARQL，这玩意可以降低学习成本；</p>
<p>为什么Gremlin 更加适合局部性查询？</p>
<p>看了这些论文都很抽象，决定搞个 Janusgraph玩玩</p>
<p>Janusgraph</p>
<p><a target="_blank" rel="noopener" href="https://docs.janusgraph.org/getting-started/installation/">https://docs.janusgraph.org/getting-started/installation/</a></p>
<p>我们在容器里面跑，先跑起来再说，大有可为（容器太复杂，搞不来）</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311081602343.png" alt="image-20231108160251107"></p>
<p>安装全套服务，报错超时</p>
<p>-v 查看</p>
<p>stack太小</p>
<p><img src="https://babe-song.oss-cn-hangzhou.aliyuncs.com/images/202311081603822.png" alt="image-20231108160336778"></p>
<p>但是找不到它相关的配置文件，很头疼</p>
<p>改成 0.64，然后配置 JVM 参数，出现以下问题，下面就是按照解决方案替换jar包</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/68315912/how-to-start-cassandra-on-a-m1-macbook">https://stackoverflow.com/questions/68315912/how-to-start-cassandra-on-a-m1-macbook</a></p>
<p>JNA，就是 Java native access，就是 Java 调用c语言</p>
<p>这一步解决之后，就是修改相关的 JVM 参数了，网上的博客都讲是将Xss参数的值修改了就行，但是我看了脚本文件根本没有相关的值，然后通过阅读脚本问题，我直接将Xss加到 OPTS 里面就 OK，三个服务都要加，这吃的资源也太多了。</p>
<p>11.9</p>
<p>今天的目标是研究一下这几个服务的原理，看看storage backend和index backend的原理；感觉用 Gremlin console 不太方便，搞个 MAVEN 项目来测试；</p>
<p>12.12</p>
<p>今天的目标是看懂janusgraph的整体框架，我们的毕设就在他的基础上去魔改，魔改的方向主要包括：（1）图分区算法的实现；（2）查询过程优化；</p>
<p>对于第一点，我们要先针对某个开源的图分区算法进行修改，保证负载均衡和分割率更优；</p>
<p>对于第二点，可能需要再去研究一下gremlin的优化，感觉挺难的，但是大方向就是这两个吧；</p>
<ol>
<li>阅读 janusGraph官方文档，学习整体思想；再找到分区存储这块的实现；</li>
<li>研究分区存储实现；（找一些开源的分区存储还有数据集）；</li>
<li>找一个应用场景，去魔改 Gremlin 查询过程；</li>
</ol>
<p>应用程序可以通过两种方式与JanusGraph交互：</p>
<ul>
<li><strong>嵌入式：</strong> 将JanusGraph嵌入到自己的图Gremlin查询应用中，与自己的应用公用同一JVM。<br> 查询执行时，JanusGraph的缓存和事务处理都在与应用程序相同的JVM中进行，当数据模型大时，很容易OOM，并且耦合性太高，生产上一般不这么搞。</li>
<li><strong>服务式：</strong> JanusGraph单独运行在一个或一组服务器上，对外提供服务。（推荐的模式）<br> 客户端通过向服务器提交Gremlin查询，与远程JanusGraph实例进行交互。</li>
</ul>
<p>所以我们的服务也是这样；</p>
<ul>
<li><h3 id="4-数据存储"><a href="#4-数据存储" class="headerlink" title="4. 数据存储"></a>4. 数据存储</h3><p>图数据可以存储在：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fcassandra.apache.org%2F">Apache Cassandra</a> - 注重在AP上</li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fhbase.apache.org%2F">Apache HBase</a> - 注重在CP上</li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fcloud.google.com%2Fbigtable">Google Cloud Bigtable</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.oracle.com%2Ftechnetwork%2Fdatabase%2Fberkeleydb%2Foverview%2Findex-093405.html">Oracle BerkeleyDB</a> - 一般用于单机本地验证</li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fscylladb.com%2F">ScyllaDB</a></li>
</ul>
<p>生产中使用最多的是 Cassandra 和 HBase，根据业务特性选型。</p>
<h3 id="5-检索"><a href="#5-检索" class="headerlink" title="5. 检索"></a>5. 检索</h3><p>全文搜索等高级搜索功能可以通过以下方式支持：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.elastic.co%2F">Elasticsearch</a> - 使用最多</li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Flucene.apache.org%2Fsolr">Apache Solr</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https%3A%2F%2Flucene.apache.org%2F">Apache Lucene</a></li>
</ul>
</li>
</ul>
<p>12.13</p>
<p>我们要实现一个图计算引擎的话，只需要去看 janusgraph 的core代码，看他是怎么实现的；</p>
<p>第一步，学习他的数据模型定义</p>
<p>12.23</p>
<p>研究几个图分区算法；主要是都用什么方法实现的；</p>
<p>NE，HDRF，METIS，FENNEL，DBH，S</p>
<p>metiss使用python实现：</p>
<p><a target="_blank" rel="noopener" href="https://metis.readthedocs.io/en/latest/">https://metis.readthedocs.io/en/latest/</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yeshang_lady/article/details/123846552">https://blog.csdn.net/yeshang_lady/article/details/123846552</a></p>
<p>吃完饭找找3个数据集，用metis来分割一下，计算负载均衡和边割率</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">肥肥大大只丶</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2023/11/01/yan-jiu-sheng-bi-ye-she-ji/">http://example.com/2023/11/01/yan-jiu-sheng-bi-ye-she-ji/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">肥肥大大只丶</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/11/05/bi-she-11-yue-2-ri-11-yue-5-ri-zhou-bao/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="《毕设：11月2日-11月5日周报》">
                        
                        <span class="card-title">《毕设：11月2日-11月5日周报》</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            研究生毕设，11 月 2 日- 11 月 5 日周报
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-11-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A0%94%E5%8F%91/" class="post-category">
                                    研发
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%9B%BE%E8%AE%A1%E7%AE%97%E5%BC%95%E6%93%8E/">
                        <span class="chip bg-color">图计算引擎</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/10/28/fei-man-xue-xi-fa/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="《费曼学习法》">
                        
                        <span class="card-title">《费曼学习法》</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-10-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            肥肥大大只丶
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2024</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">肥肥大大只丶</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/scuChenscu" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2376584476@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2376584476" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2376584476" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</body>

</html>
